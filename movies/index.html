<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
       
        #container {
            background-color: rgb(13, 17, 39);
            padding: 20px;
        }

        input {
            width: 300px;
            padding: 2px;
            border-radius: 150px;
            border: 2px solid black;
            box-shadow: 5px 5px 5px  rgb(2, 93, 116);
        }

        button {
            border: 2px solid black;
            background-color: rgb(8, 45, 78);
            border-radius: 150px;
            color: beige;
            box-shadow: 5px 5px 5px  rgb(2, 93, 116);
        }

        #moviesdata {

            padding: 2%;
            display: flex;
            justify-content: center;
            color: aliceblue;
            max-width: 100%;

        }

        #moviesdata img {
            max-width: 90%;
            border-radius: 5%;
            box-shadow: 5px 5px 5px  rgb(2, 93, 116);
        }
        #moviesdata>div:nth-child(2){
            box-shadow: 1px 1px 1px  rgb(2, 93, 116);
        }
    </style>
</head>

<body>
    <div id="container">
        <input type="text" id="movies" />
        <button onclick="searchMovie()">Search Movie </button>
    </div>
    <p></p>
    <p></p>
    <div id="moviesdata"></div>

</body>

</html>
<script>
    let moviesdata = document.getElementById("moviesdata");
    async function searchMovie() {
        try {
            let movies = document.getElementById("movies").value;
            let res = await fetch(
                `http://www.omdbapi.com/?t=${movies}&apikey=318b9b77`

            );

            let data = await res.json();
            console.log(data);
            if (data.Response == 'False') {
                moviesdata.innerHTML = null;
                let image = document.createElement("img")
                image.src = "https://tse4.mm.bing.net/th?id=OIP.Db8i_HwdqlKRZXH_Q8z4ZQHaEy&pid=Api&P=0&w=249&h=162"

                moviesdata.append(image);
                moviesdata.style.backgroundColor =  "rgb(13, 17, 39)";

            }
            else {
                showMovies(data);
            }
        }
        catch (e) {
            console.log("Err", e)
        }
    }

    function showMovies(movie) {
        moviesdata.innerHTML = null;


        let div1 = document.createElement("div");
        let div2 = document.createElement("div");
        let title = document.createElement("p");
        title.innerText = "Name:" + " " + movie.Title;

        let img = document.createElement("img");
        img.src = movie.Poster;

        let relese = document.createElement("p");
        relese.innerText = "Relesed On:" + " " + movie.Released;

        let plot = document.createElement("p");
        plot.innerText = "Description:" + " " + movie.Plot;

        let rating = document.createElement("p");
        let rate=Number(movie.imdbRating);
       
       
         if(rate >= 8.5){
            rating.innerText = "IMDB Rating:" + " " + movie.imdbRating +  " / " + "Tag : Recommended";
         }
         else{
            rating.innerText = "IMDB Rating:" + " " + movie.imdbRating;
         }

        let Votes = document.createElement("p");
        Votes.innerText = "Total Votes:" + " " + movie.imdbVotes;
        let btn = document.createElement("button");
        btn.innerText = "Watch Now";

        div1.append(img)
        div2.append(title, relese, rating, Votes, plot, btn)
        moviesdata.append(div1, div2);
        moviesdata.style.backgroundColor =  "rgb(13, 17, 39)";
    }
</script>